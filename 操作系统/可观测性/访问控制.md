## SeLinux

SELinux (Security-Enhanced Linux) 由 NSA 和 RedHat 在 2000 年开发, 在 Linux2.6 中合并到主线 LSM (Linux Security Module) 接口中. 在传统的[自主访问控制 (DAC)](../../网络安全/安全模型.md) 基础上, 加入[强制访问控制 (MAC)](../../网络安全/安全模型.md).

对于每个对象 (进程, 文件), 都有一个安全标签: `user:role:type:level`. 
- user:role (用于 RBAC, 基于用户角色的限制)
- type: 用于强制访问控制 (Type Enforcement)
- level: 用来表示机密等级 (Multi-Level Security)

```
> ls -Zd /srv/myweb
unconfined_u:object_r:httpd_sys_content_t:s0 /srv/myweb
```

注意, 访问控制而不是*资源控制*, 资源控制请使用 cgroup.

## Namspaces

namespaces 用于资源隔离, cgroup 用于资源用量限制, 两者通常结合使用.

namespace:
- pid, 隔离进程号
- user, 隔离权限
- mount, 隔离文件系统挂载点
- ipc, 隔离 IPC 
- net, 隔离网络
- uts, 隔离主机名

## CGroup 

cgroup (control groups) 是内核提供的资源控制工具 (限制和统计). 通过 `/sys/fs/cgroup` 下的接口进行控制.

controller:
- cpu/cpuacct, 限制 CPU 使用上限
- memory, 内存配额
- blkio, 块设备 IO 管理, 如限制 swap 和带宽
- pids, 限制进程数
- freezer, 冻结进程
- cpuset, 绑定 cpu 节点