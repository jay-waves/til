
## 香农编码

香农编码 (Shannon-Fano Code) 思想是通过累加概率, 根据每个符号出现概率, 为其分配一个 $[0,1)$ 的概率区间. 若有 $k$ 个码字, 则有 $\sum\limits^{k}_{i=1}P_{i}=1$, 其中 $P_{i}$ 为码 $W_{i}$ 出现概率.

1. 将灰度级按出现概率从大到小排列
2. 计算码字长度 $-\log_{2}P_{i} \le \beta_{i}<-\log_{2}P_{i}+1$
3. 计算累加概率: $$\begin{align}
a_{1}&=0 \\
a_{2}&=P_{1} \\
a_{3}&=P_{2}+a_{2} =P_{2}+P_{1} \\
a_{4}&=P_{3}+a_{3} =P_{3}+P_{2}+P_{1} \\
\vdots \\
a_{i}&=P_{i-1}+P_{i-2}+\dots+P_{1}
\end{align}$$
4. 将 $a_{i}$ 十进制转二进制
5. 去除多余尾数, 补至 $\beta_{i}$ 长.

**香农编码效率低于哈夫曼编码**