## 图像概念

**亮度**: 数字图像亮度通常由 0-255 等级表示(如白色亮度, rgb颜色分量亮度), 0 代表纯黑, 255 代表相对最大亮度: 对于数字图像, 255一般由显示设备最大亮度决定; 对于印刷图像, 则与环境光照强度有关.

**对比度**: 图像较暗部分和较亮部分的亮度差异. 定义比较复杂.

**像素, pixel**: 灰度图像中 `1byte`, 表示亮度; 彩色图像中 `3byte`, 表示 RGB.

**分辨率**: 像素密度, 图像可视为 $m\times n$ 像素矩阵, 如 $512\times512$.

- 灰度图像: 亮度像素矩阵.
- 彩色图像: rgb(a), 红绿蓝(透明度) 像素矩阵.

**深度**: 物体远近, 光的反射速度

**色深**: 一个像素表示所用的数据量, 如 10bit, 12bit/pix.

**色调 (Hue)**: 描述颜色的种类或名称, 色轮中色调被表示为0~360度之间的角度.

**饱和度 (Saturation)**: 描述色彩纯度 (是否被灰色稀释), 0%饱和度意味着全灰色. 如鲜红色的饱和度高于浅粉红色.

### 图像一般处理手段

**[压缩](图像编码.md)**: 图像*相邻像素, 视频相邻帧*的相关性很高, 冗余多.

**修改质量**: 主观质量与客观质量. 让重点对象清晰, 次要对象压缩, 可以提高图像主观质量 (可懂度), 同时不提高分辨率 (大小).

**[增强和复原](图像增强和复原.md)**: 复原是逆图像降质原因来重建图像, 增强则是突出对象和锐化等.

[**去噪**](图像去噪.md)

**分辨率调整**: *超分辨*让图像分辨率变大. *插值(拉伸), 下采样(伸缩)*让图像分辨率和屏幕分辨率匹配.

### 图像数字化

**采样:** 图像空间上离散化, 用网格划分坐标. 等间隔采样后, 图像可以表示为矩阵形式, 其中坐标 $(x,y)$ 上的点表示为 $f(x,y)$.

**量化:** 单点灰度值离散化. 将灰度值分层量化, 分层越多, 误差越小, 但是存储的比特越多. (灰度分层低至2, 高至256)

### 图像质量评价

==If you can not measure it, you can not improve it==

图像质量: 

- 图像保真度 (Fidelity): 处理后图像与原始图像之间的相似度 (忠实度, 失真度)
- 图像可懂度 (Intelligiblity): 图像内容的可读性, 指观众能提取多少有效信息. 突出图像特征(关键信息), 可以提高图像可懂度, 但可能降低图像保真度.

DMOS (Differential Mean Option Score) ...

**灰度图像的失真度量 (逼真度)**:
1. 归一化均方误差: $$NMSE=\frac{\sum^{J}\sum^{K}[g(j,k)-\hat{g}(j, k)]^{2}}{\sum^{J}\sum^{K}[g(j, k)]^{2}}$$ 其中 $g(j,k)$ 指单像素灰度值, $\hat{g}$ 是参考值.
2. 峰值均方误差: $$PMSE=\frac{\sum^{J}\sum^{K}[g(j, k)-\hat{g}(j, k)]^{2}}{J\cdot K\cdot A^{2}}$$ 其中 A 就是灰度最大值 (8bit为255)
3. 峰值信噪比, 等效于PMSE: $$PSNR=-10\log_{10}(PMSE)\ \ dB$$

图像保真度评价: PSNR, PMSE, SSIM. PSNR 越大越好; 但是 PSNR 衡量并不准确, 比如整体左移一个像素点会导致保真度极低, 但是质量并没有变化.

### 图像亮度感受

**韦伯-弗赫涅尔定律 (主观亮度感觉)** $S=klogB+k_{0}$, B 为真实光强. 

人眼亮度**变化**感觉: $$\triangle\{L_{1},\ L_{2}\} = \log_{B}(y+\triangle y)-\log_{B}y$$ 马赫效应 Mach Effect: 环境的凸显效应, 灰色在白环境中显得更亮.

### 数字图像色彩

**色彩度量**: 
- RGB ($255\times 255\times 255)$, 加色模式, 需要主动发出三色光.
- CMYK (印刷彩色), 减色模式, 反射部分波长的光. (黑暗中看不见)
- YIG, Y: 颜色透视度(luminance), 灰度值; I: 色调; Q: 饱和度. 可以线性地转化为RGB值. 用于北美广播电视(NTSC).
- YUV, Y: 亮度; UV: 色度 (U蓝色到绿色的色差, V红色到绿色的色差), 人眼对绿色亮度更加敏感 (高于红蓝色), 所以可以压缩色度信息. 被用于欧洲广播电视的视频压缩中.