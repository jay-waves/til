按行读取文件 `readline()`,EOF时会返回空值

```python
with open("data.txtl", "r") as f:
	line = f.readline()
	while line:
		print(line.strip())
		line = f.readline()
```

注意到readline会有讨厌的换行符

### 处理异常(exceptions)

- 出现读写异常时, 仍需要保证文件关闭
```python
handle = open('/temp/data.txt') #May raise IOError
try:
	data = handle.read() #May raise UnicodeDecodeError
finally:
	handle.close() #always run after try
```

注意如果出现 `IOError` 异常, 不应该再使用 `close()` 方法.

例子: 
```python
UNDEFINED = object()
def divide_json(path):
	handle = open(path, ‘r+’) # May raise IOError
try:
	data = handle.read() # May raise UnicodeDecodeError
	op = json.loads(data) # May raise ValueError
	value = (
	op[‘numerator’] /
	op[‘denominator’]) # May raise ZeroDivisionError
except ZeroDivisionError as e:
	return UNDEFINED
else:
	op[‘result’] = value
	result = json.dumps(op)
	handle.seek(0)
	handle.write(result) # May raise IOError
	return value
finally:
	handle.close() # Always runs
```

### py文件路径

跨平台编程时, 如 Windows 平台, 默认文件路径分隔为 `\`; python 则默认为 `/`, 将 `\` 视为转义字符. 有几种解决办法:
1. `\` 统一换为 `/`, 交由 python 标准库处理.
2. 二次转义, 即将 `\` 转为 `\\`
3. 取消转义 `r'path\to\file`, 见 [字符串前缀类型](../特性/函数与变量/区分字节串与字符串字面量.md)
4. 使用 `os.path` 模块
