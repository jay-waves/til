## 排队问题

1. 队列需要显式维护 `size` 
2. 使用时, 队列通常接近爆满或接近空集. 因为消费者和生产者的节奏通常不一致.

### 多线程版本

- 使用 CAS 保护 `tail` (写入端)
- 使用 CAS 保护 `size`
- 使用 spinlock 保护 `head` (读取端)