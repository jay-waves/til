## 技术路线

内存范畴包括: 主存 (RAM), 缓存 (Cache, SRAM), BIOS (ROM), 寄存器.

| 特性     | ROM/BIOS    | 主内存       | 外存         | 传统外存     |
| -------- | ----------- | ------------ | ------------ | ------------ |
| 用途     | 存储固件    | 短期存储数据 | 长期存储数据 | 长期廉价存储 |
| 易失性   | 非易失      | 易失         | 非易失       | 非易失       |
| 类型     | ROM         | DRAM, SRAM   | SSD          | CDROM, HDD   |
| 操作     | (通常) 只读 | 可读可写     | 可读可写     | 可读可写     |
| 成本     | 较高        | 很高         | 较低         | 低           |
| 速度     | 较快        | 快           | 较快         | 慢           |
| 存储技术 | Flash            | 电容+晶体管            |  NAND Flash            |  磁记录            |

只读存储器 (ROM) 演变过程, 从只读变为可读写:
- 不可编程 ROM. 
- 可编程 ROM (PROM)
- 光可擦除可编程 ROM (EPROM).
- 电可擦除可编程 ROM (EEPROM). 可完全用软件来擦写. 容量小, 擦写慢, 用 IIC 或 SPI 即可控制.
- NOR Flash. 按块擦除, 速度提升.
- NAND Flash. 更便宜. SSD / SD Card 的技术就是 NAND Flash.

现代手机的 BIOS 和外存都放在 SSD 上; 而电脑空间富裕, 仍将 BIOS 独立放在 ROM 上.

### DRAM 

DRAM 以电荷形式存储数据, 由于电容器会漏电导致电荷丢失, DRAM 需要定期刷新 (1 个晶体管, 1 个电容器); SRAM 则是静态的, 没有刷新周期, 但更贵 (6 个晶体管, 芯片面积大). RAM 比 CPU 频率更慢, 采用的时钟与 CPU 外存控制器同步. 在嵌入式场景中, 还有特定类型的 RAM:
- DPRAM, 有双端口, 支持两个处理器同时访问, 用于多个处理器间互通数据.
- CAM, 以内容进行寻址的存储器. 用于提高检索效率.
- FIFO, 先进先出队列, 用于数据缓冲. 某一时刻, 只能一边输入, 另一边输出.

### Flash 

闪存 (Flash) 只能将 1 写为 0, 所以编程前需要将块擦除 (置为 0xff); 并且不能在同一位置多次擦写, 容易坏块. 因此依赖 Flash 控制器的算法来保证性能和寿命.

Flash 主要有 NOR (或非门) 和 NAND (与非) 门两种技术. NAND 成本低容量大, 但偶尔会有位反转错误, 需要搭配纠错 ECC 算法. NAND 有一些显著缺点: 天然有坏块, 随机访问的性能显著低于 NOR.

### SSD

SSD 的实际技术是 NAND-Flash

SSD 的接口协议:
- SATA SSD: 500MB/s.
- M.2 SATA SSD: 类似 SATA, 更小型化.
- NVMe SSD: (PCIe 接口), >3GB/s

## RAID

RAID (冗余阵列独立磁盘), 用于将多个物理磁盘驱动器组合为一个逻辑单元, 用于数据冗余和性能改进. RIAD 可通过硬件控制器或软件实现.

| 级别   | 名称             | 容量 (共N个磁盘容量)           | 数据分布                                           |
| ------ | ---------------- | -------------- | -------------------------------------------------- |
| RAID0  | 条带             | N       | 数据块在各磁盘平均分布, 无冗余                     |
| RAID1  | 镜像             | N/2 | 每块数据在两个磁盘上各有一份副本, 有100%的数据冗余 |
| RAID5  | 带奇偶校验的条带 |  N-1              |  数据块和校验块皆均匀分布, 一个磁盘失效时, 使用校验块和数据块重建数据                                                 |
| RAID6  | 双重奇偶校验     | N-2               | 类似 RAID5, 但有两个奇偶校验块, 容忍两个磁盘同时失败                                                   |
| RAID10 | 镜像加条带                 | N/2               | RAID0 + RAID1                                                   |

> todo: https://www.cnblogs.com/RadiumGalaxy/p/17122372.html