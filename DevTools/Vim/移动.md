## 移动

使用 Vim 时, 应每 80 词即折行, 避免超出屏幕宽度导致的自动换行. 自动换行会导致 `屏幕行!=实际行`, 移动光标时应使用 `gj` 和 `gk`.

### 行内移动

```vim
^     " 非空字符行首
0     " 行首
I     " 相当于 0,i
A     " 相当于 $,i
$     " 行尾
g_    " 移动到最后一个非空字符 (避免选中换行符)
f     " 查找, 如 2fa 查找第二个 a
F     " 向左查找
t     " 查找, 但移动到匹配项之前
```

单词级移动 (英文下好用)
```vim
w, e    " 下一个单词开头, 结尾
b       " 上一个单次开头
*, #    " 匹配和当前光标所在单词相同的下一个, 上一个单词 
%       " 匹配到括号另一半
```

### 行外移动

段落级移动, 需要借助一些内置标记, 详见 [标注](标注.md)
```vim
{, }   " 当前段落首/尾 (即首个空行)
(, )   " 当前句子首/尾
```

全屏幕:
```vim
H, M, L  " 屏幕的开头, 中央, 结尾
:n       " 移动到第 n 行
[n]G     " 移动到第 n 行

zt, zz, zb " 保持光标留在当前行, 移动屏幕
```

### 代码中移动

- `[I` 匹配当前光标下的标识符的所有定义和使用位置.
- `[[`, `]]` 代码块间跳转
- `[d`, `]d` 函数, 类, 结构体定义
- `gd` 跳转到光标下局部变量的定义
- `gD` 跳转到光标下全局变量的定义
- `gf` 跳转到光标下文件名的文件

## 标记

### 自定义标记

小写字母定义文件内标记.

1. `m[a-z]` 创建命名标记, 记录光标位置.
2. `'[a-z],g'[a-z]` 跳转到对应标记行, 或 `` g` `` 跳转到标记行列.
3. `:marks` 列出可用具名标记

在插件中, 使用 `<leader>+s` 能够搜索单个字符, 并快速跳转.

### 全局标记

大写字母定义跨文件标记. 比如, 让标记符和文件建立一些意义上的联系, 方便记忆:
1. `mH` 表示头文件
2. `mM` 表示 Makefile
3. `mC` 表示 c 代码文件
4. `:marks <reg>`  查看具名标记, 如 `:marks MCH`

### 预定义标记

`` ` `` 跳转到行列, `'` 仅跳转到行.

| 按键             | 跳转至                                         |
| ---------------- | ---------------------------------------------- |
| `:jumps`         | 列出所有可跳转位置                                               |
| `'[` 与 `` `[ `` | 上一次修改或复制的第一行或第一个字符           |
| `']` 与 `` `] `` | 上一次修改或复制的最后一行或最后一个字符       |
| `'<` 与 `` `< `` | 上一次在可视模式下选取的第一行或第一个字符     |
| `'>` 与 `` `> `` | 上一次在可视模式下选取的最后一行或最后一个字符 |
| `''` 与 `` `' `` | 上一次跳转之前的光标位置                       |
| `'"` 与 `` `" `` | **上一次关闭当前缓冲区时的光标位置**               |
| `'^` 与 `` `^ `` | 上一次插入字符后的光标位置                     |
| `'.` 与 `` `. `` | **上一次修改文本后的光标位置**                     |
| `'(` 与 `` `( `` | 当前句子的开头                                 |
| `')` 与 `` `) `` | 当前句子的结尾                                 |
| `'{` 与 `` `{ `` | 当前段落的开头                                 |
| `'}` 与 `` `} `` | 当前段落的结尾                                 |

> 更过帮助 `:h mark-motions`